<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/bootstrap/docs/assets/css/bootstrap.css" type="text/css" />
    <script src="/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="/bootstrap/docs/assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script>
      $(function() {
        'use strict';

        // Regexp to extract user and repo from github URL.
        // Also accepts strings of the form:
        // "cb372/line-count"
        // "https://github.com/cb372/line-count/foo/bar.js"
        var re = new RegExp("^(?:https?://.*github.com/)?([^/]+)/([^/]+)/?");
        $('form').on('submit', function() {
          var match = re.exec($('#project-url').val());
          // TODO show error if match failed
          var user = match[1], repo = match[2];
          location.href = '/' + user + '/' + repo;
          return false;
        });
      });
    </script>
  </head>
  <body>
    <a href="https://github.com/you"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>
    <div class="container">
      <div class="row">
        <div class="span8 offset2">
          <h1>GitHub project Line Counter</h1>
          <form>
            <label for="project-url">GitHub project URL</label>
            <input id="project-url" name="project-url" class="span7" style="font-size: 1.5em; padding-left: 0.25em;" placeholder="e.g. 'https://github.com/cb372/line-count'" />    
            <input type="submit" class="span1 btn btn-primary" value="Go!" />
          </form>
          <p>Or try one of these examples:</p>
          <ul>
            <li><a href="/cb372/line-count">cb372/line-count</a></li>
            <li><a href="/cb372/phone-home">cb372/phone-home</a></li>
            <li><a href="/cb372/fedis">cb372/fedis</a></li>
            <li><a href="/cb372/externalized">cb372/externalized</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
